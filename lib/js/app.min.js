!function(a){"use strict";a(document).ready(function(){function b(a){this.info={name:a.name,self:null,actions:{primary:a.actions.primary,secondary:a.actions.secondary},color:a.color},this.init()}var c=[],d={set:function(){localStorage.setItem("ghosts",JSON.stringify(c))},get:function(){var a=void 0!==localStorage.ghosts&&localStorage.ghosts;return JSON.parse(a)}};if(b.prototype={build:function(b){var c=a("#ghost").html(),d=Handlebars.compile(c),b=b,e=d(b);return a(e).prependTo(".main-content").fadeIn(),a(".ghost").first()},init:function(){var e=this;a(".empty-container").length>0&&a(".empty-container").remove(),this.info.self=this.build(this.info),this.animate(this,"primary"),a(this.info.self).on("click",function(){b.prototype.animate(e,"secondary")}),c.push(e),d.set()},animate:function(b,c){a(b.info.self).addClass(b.info.actions[c]),a(b.info.self).on("animationend",function(){a(this).removeClass(b.info.actions[c])})}},d.get())for(var e=d.get(),f=0;f<e.length;f++)a(".empty-container").length>0&&a(".empty-container").remove(),new b(e[f].info);a("form").on("submit",function(c){c.preventDefault();var d={name:a(this).find("#ghost-name").val(),color:a(this).find("#ghost-color").val(),actions:{primary:a(this).find("#ghost-primary").val(),secondary:a(this).find("#ghost-secondary").val()}};a(this).trigger("reset"),new b(d)})})}(jQuery);
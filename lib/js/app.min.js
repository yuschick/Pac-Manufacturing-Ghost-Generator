!function(a){function b(b){this.info=b,this.info.self=this.buildGhost(),d.push(this),this.animate("primary"),a(this.info.self).on("click",function(){this.animate("secondary")}.bind(this)),e.set()}function c(){var b={name:a("#ghost-name").val(),color:a("#ghost-color").val(),primary:a("#ghost-primary").val(),secondary:a("#ghost-secondary").val()};return b}var d=[],e={set:function(){localStorage.setItem("ghosts",JSON.stringify(d))},get:function(){var a=void 0!==localStorage.ghosts&&JSON.parse(localStorage.ghosts);return a},clear:function(){localStorage.removeItem("ghosts"),console.log("localStorage cleared!")}};if(b.prototype.buildGhost=function(){var b=a("#ghost").html(),c=Handlebars.compile(b),d=this.info,e=c(d);return a(e).prependTo(".main-content").fadeIn(),a(".ghost").first()},b.prototype.animate=function(b){var c=this.info;a(c.self).addClass(c[b]),a(c.self).on("animationend",function(){a(this).removeClass(c[b])})},e.get()){var f=e.get();a(".empty-container").remove();for(var g=0;g<f.length;g++)new b(f[g].info)}a("form").on("submit",function(d){d.preventDefault(),new b(c()),a(this).trigger("reset"),a(".empty-container").length&&a(".empty-container").remove()}),a("body").on("keypress",function(a){99===a.keyCode&&e.clear()})}(jQuery);